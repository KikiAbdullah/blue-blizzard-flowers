<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gita & Rizaldy Wedding</title>
    <link rel="shortcut icon" href="img/favicon.png" type="image/x-icon">
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" integrity="sha512-Fo3rlrZj/k7ujTnHg4CGR2D7kSs0v4LLanw2qksYuRlEzO+tcaEPQogQ0KaoGN26/zrn20ImR1DfuLWnOo7aBA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" type="text/css" href="css/lightbox.min.css">
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <link rel="stylesheet" type="text/css" href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <link href="https://emoji-css.afeld.me/emoji.css" rel="stylesheet">
</head>

<body>
    <main>
        <div id="content">
            <div class="landing-page pt-3">
                <img src="img/ornament/top-landing.png" alt="" class="landing-ornament">
                <img src="img/ornament/corner-landing.png" alt="" class="landing-corner-top">
                <img src="img/ornament/corner-landing.png" alt="" class="landing-corner-bottom">

                <div class="landpage-caption text-center pt-3 overflow-x-hidden" data-aos="fade-up" data-aos-easing="linear" data-aos-duration="1300">
                    <p class="text-secondary text font-italic">The Wedding Of</p>
                    <h1 class="font-alexBrush text-center mb-4">Gita & Rizaldy</h1>
                    <img src="img/foto_outline.PNG" alt="" style="max-width: 80%; margin-bottom: 100px;">
                </div> <!-- end landpage-caption -->
            </div> <!-- end landing-page -->
            <div class="container intro-person" style="position: relative;">
                <img src="img/ornament/flower.png" alt="" class="ornament-top-right">
                <img src="img/ornament/flower.png" alt="" class="ornament-top-left">
                <div class="hadith col-md-8">
                    <img src="img/ornament/bismillah.png" alt="Bismillah" style="height:5%;" class="mb-4" data-aos="fade-up" data-aos-easing="ease-in-sine" data-aos-duration="800">
                    <p data-aos="fade-up" data-aos-easing="ease-in-sine" data-aos-duration="800">
                        Maha Suci Allah SWT
                        yang telah menciptakan makhluk-Nya berpasang-pasangan
                        perkenankan kami melaksanakan syariat agamamu mengikuti sunnah Rasul-mu, membentuk keluarga
                        Sakinah Mawadah Warahmah.
                    </p>
                </div> <!-- end hadith -->
                <div class="container-couple overflow-x-hidden">
                    <div class="couple-half" data-aos="fade-left" data-aos-easing="ease-in-sine" data-aos-duration="1000">
                        <div class="photo-holder">
                            <img src="img/bride.png" alt="">
                        </div> <!-- end photo-holder -->
                        <div class="desc-groom">
                            <h1 class="font-alexBrush m-0">Gita</h1>
                            <p class="text-secondary">Primagita Fridhayanti</p>
                            <p>
                                <small><i>Putri Dari</i></small>
                                <br>
                                Bpk. Prime PB Martugi &
                                <br>
                                Ibu Lucia Trestiana
                            </p>

                        </div> <!-- end desc-groom -->

                    </div> <!-- end couple-half -->

                    <div class="m-auto">
                        <h1 class="font-alexBrush">&</h1>
                    </div>
                    <div class="couple-half text-right" data-aos="fade-right" data-aos-easing="ease-in-sine" data-aos-duration="1000">
                        <div class="desc-groom">
                            <h1 class="font-alexBrush m-0">Rizaldy</h1>
                            <p class="text-secondary">Rizaldy Yudha Pratama</p>
                            <p>
                                <small><i>Putra Dari</i></small>
                                <br>
                                Bpk. Mudji Tri Sulistiyono (Alm) &
                                <br>
                                Ibu Maulida
                            </p>
                        </div> <!-- end desc-groom -->
                        <div class="photo-holder">
                            <img src="img/groom.png" alt="">
                        </div> <!-- end photo-holder -->
                    </div> <!-- end couple-half -->

                </div> <!-- end container-couple -->
            </div> <!-- end intro-person -->
            <div class="container intro-person mb-5" style="position: relative;">
                <div class="hadith col-md-8" data-aos="fade-up" data-aos-easing="ease-in-sine" data-aos-duration="800">
                    <p>
                        Dan di antara tanda-tanda kekuasaan-Nya ialah Dia menciptakan untukmu istri-istri dari
                        jenismu sendiri, supaya kamu cenderung dan merasa tentram kepadanya, dan dijadikan-Nya
                        diantaramu rasa kasih dan sayang. Sesungguhnya pada demikian itu benar-benar terdapat
                        tanda-tanda bagi kaum yang berfikir.
                    </p>
                    <p class="font-weight-bold">- Surat Ar-Rum Ayat 21 -</p>

                </div> <!-- end hadith -->
                <img src="img/ornament/flower.png" alt="" class="ornament-bottom-right">
                <img src="img/ornament/flower.png" alt="" class="ornament-bottom-left">
            </div>
            <div class="container schedule-container">
                <div class="schedule">
                    <div class="akad" data-aos="fade-up" data-aos-easing="ease-in-sine" data-aos-duration="800">
                        <h1 class="font-alexBrush text-center">Schedule</h1>
                        <div class="mb-2 text-center">
                            <img class="w-100" src="./img/date.svg" alt="Akad pada pukul 10.00 - 11.00 WIB" style="max-width: 70%;">
                        </div>
                    </div> <!-- end akad -->
                </div> <!-- end schedule -->
                <div class="location d-flex flex-column col-md-8 mb-5" data-aos="fade-up" data-aos-easing="ease-in-sine" data-aos-duration="800">
                    <i class="fas fa-map-marker-alt mb-2"></i>
                    <div>TAMAN INDIE RESTO <br>Jl. Araya Megah no. 9, Malang</div>
                </div> <!-- end location -->
                <div class="mb-5 text-center" data-aos="zoom-in-up" data-aos-easing="ease-in-sine" data-aos-duration="800">
                    <div style="width: 100%" class="mb-4">
                        <iframe src="https://www.google.com/maps/embed?pb=!1m14!1m8!1m3!1d15806.296966122198!2d112.6646045!3d-7.939455!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x7234a042cc61972f!2sTaman%20Indie!5e0!3m2!1sen!2sid!4v1645799040932!5m2!1sen!2sid" width="800" height="600" style="border:0;" allowfullscreen="" loading="lazy"></iframe>
                    </div>
                    <div class="col-md-8 m-auto d-flex justify-content-center">
                        <a href="https://www.google.com/maps/place/Taman+Indie,+Jl.+Araya+Megah+No.9,+Pandanwangi,+Blimbing,+Malang+City,+East+Java/@-7.939455,112.6646045,17z/data=!4m2!3m1!1s0x2dd628e5abdb212f:0x7234a042cc61972f" class="btn btn-brown slide" target="_blank"><i class="fas fa-location-arrow"></i> Google Maps</a>
                    </div>
                </div>
            </div> <!-- end schedule-container -->
            <div class="countdown-container">
                <div class="container">
                    <h1 class="font-alexBrush text-center" data-aos="zoom-in-down" data-aos-easing="ease-in-sine" data-aos-duration="1000">Countdown</h1>
                    <h5 class="text-center mb-4" data-aos="zoom-in-down" data-aos-easing="ease-in-sine" data-aos-duration="1000">Minggu, 13 Maret 2022</h5>
                    <div class="d-flex mb-5">
                        <div class="part-countdown">
                            <h1 id="days" class="m-0"></h1>
                            <p class="m-0">Days</p>
                        </div>
                        <div class="part-countdown">
                            <h1 id="hours" class="m-0"></h1>
                            <p class="m-0">Hours</p>
                        </div>
                        <div class="part-countdown">
                            <h1 id="minutes" class="m-0"></h1>
                            <p class="m-0">Minutes</p>
                        </div>
                        <div class="part-countdown">
                            <h1 id="seconds" class="m-0"></h1>
                            <p class="m-0">Seconds</p>
                        </div>
                    </div>
                    <div class="text-center" data-aos="zoom-in-up" data-aos-easing="ease-in-sine" data-aos-duration="1000">
                        <a href="https://www.google.com/calendar/render?action=TEMPLATE&text=Pernikahan+Gita+%26+Rizaldy&details=Assalamu%27alaikum+Wr.+Wb%0ABismillahirahmanirrahim.%0A%0ATanpa+mengurangi+rasa+hormat%2C+perkenankan+kami+mengundang+Bapak%2FIbu%2FSaudara%2Fi%2C+teman+sekaligus+sahabat%2C+untuk+menghadiri+acara+pernikahan+kami+%3A%0A%0AGita+%26+Rizaldy%0A%0AMerupakan+suatu+kebahagiaan+bagi+kami+apabila+Bapak%2FIbu%2FSaudara%2Fi+berkenan+untuk+hadir+dan+memberikan+doa+restu.+Terima+kasih+banyak+atas+perhatiannya.%0A%0AWassalamu%27alaikum+Wr.+Wb.%0ATerima+Kasih.&location=Taman+Indie%2C+Jl.+Araya+Megah+No.9%2C+Pandanwangi%2C+Kec.+Blimbing%2C+Kota+Malang%2C+Jawa+Timur%2C+Indonesia&dates=20220313T010000Z%2F20220313T080000Z" class="btn btn-outline-brown m-auto"><i class="far fa-calendar-alt mr-2"></i> Ingatkan Saya</a>
                    </div>
                </div> <!-- end container -->
            </div> <!-- end countdown-container -->
            <div class="container mt-4">
                <h1 class="font-alexBrush text-center mb-4">Live Streaming</h1>
                <iframe width="560" height="315" src="https://www.youtube.com/embed/ueQ1zjlPSLc" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
            </div>
            <div class="gallery-container">
                <h1 class="font-alexBrush text-center mb-4">Gallery</h1>
                <div class="gallery container">
                    <div class="row">
                        <div class="col-md-6 col-sm-6 col-12" data-aos="fade-up" data-aos-easing="ease-in-sine">
                            <img src="img/galeri/galeri (1).jpg" alt="">
                        </div>
                        <div class="col-md-6 col-sm-6 col-12" data-aos="fade-up" data-aos-easing="ease-in-sine">
                            <img src="img/galeri/galeri (2).jpg" alt="">
                        </div>
                        <div class="col-md-6 col-sm-6 col-12" data-aos="fade-up" data-aos-easing="ease-in-sine">
                            <img src="img/galeri/galeri (3).jpg" alt="">
                        </div>
                        <div class="col-md-6 col-sm-6 col-12" data-aos="fade-up" data-aos-easing="ease-in-sine">
                            <img src="img/galeri/galeri (4).jpg" alt="">
                        </div>
                        <div class="col-md-6 col-sm-6 col-12" data-aos="fade-up" data-aos-easing="ease-in-sine">
                            <img src="img/galeri/galeri (5).jpg" alt="">
                        </div>
                        <div class="col-md-6 col-sm-6 col-12" data-aos="fade-up" data-aos-easing="ease-in-sine">
                            <img src="img/galeri/galeri (6).jpg" alt="">
                        </div>
                    </div> <!-- end row -->
                </div> <!-- end gallery -->
            </div> <!-- end gallery-container -->
            <div class="container mt-4 mb-4">
                <!-- <h1 class="font-alexBrush text-center">Protokol Kesehatan</h1> -->
                <div class="hadith col-md-8">
                    <p>
                        Di masa <b>Pandemi Covid-19</b> ini kami memohon agar seluruh tamu undangan yang hadir dalam
                        acara ini
                        dapat mengikuti protokol kesehatan yang berlaku dan mengikuti himbauan pemerintah
                    </p>
                </div>
                <div class="text-center">
                    <div data-aos="zoom-in-up" data-aos-easing="ease-in-sine" data-aos-duration="800">
                        <img src="./img/prokes.svg" alt="Protokol Kesehatan" style="max-width: 70%;">
                    </div>
                </div> <!-- end protokol-kesehatan -->
            </div> <!-- end container -->
            <div class="chatbox-container overflow-x-hidden">
                <h1 class="font-alexBrush text-center mb-4" data-aos="zoom-out-down" data-aos-easing="ease-in-sine" data-aos-duration="1000">Ucapan dan Do'a</h1>
                <div class="hadith col-md-8 mb-4" data-aos="zoom-out-down" data-aos-easing="ease-in-sine" data-aos-duration="1000">
                    <p>
                        Tinggalkan pesan dan Do'a anda untuk kami
                    </p>
                </div>
                <div class="container d-flex justify-content-between">
                    <div class="chatbox">
                        <ul id="wish-room" class="mb-0" data-aos="fade-up" data-aos-easing="ease-in-sine" data-aos-duration="1000">

                        </ul>
                        <span id="new-messages-icon" class="fa-stack fa-sm" onclick="scrollToBottom()">
                            <i class="fas fa-circle fa-stack-2x"></i>
                            <i class="fas fa-angle-double-down fa-stack-1x fa-inverse"></i>
                        </span>
                    </div> <!-- end chatbox -->
                    <div class="form-wishes">
                        <form id="wishes">
                            <div class="form-group">
                                <input id="wish-from" name="nama" type="text" class="form-control" placeholder="Nama Lengkap Anda" required>
                            </div>
                            <div class="form-group">
                                <label for="konfirmasi">Konfirmasi Kehadiran</label>
                                <select class="form-control" id="konfirmasi" name="kehadiran" onchange="checkKonfirmasi()">
                                    <option selected>- pilih Jawaban -</option>
                                    <option id="hadir" value="1">Hadir</option>
                                    <option value="0">Maaf, Berhalangan hadir</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <textarea id="wish-content" name="ucapan" class="form-control" rows="5" placeholder="Tulis harapan dan do'a" required></textarea>
                            </div>

                            <input type="submit" class="btn btn-outline-brown" value="Kirim">
                            <!-- <a href="Javascript:void(0);" onclick="addWishes()" type="submit" class="btn btn-outline-brown">Kirim</a> -->
                        </form>
                    </div> <!-- end form-wishes -->
                </div> <!-- end container -->
            </div> <!-- end chatbox-container -->
        </div> <!-- end #content -->
        <!-- Background Music -->
        <audio id="music" preload="auto" autoplay="true" loop>
            <source src="./music/elvis_cover.mp3" type="audio/mpeg">
            Browsermu tidak mendukung tag audio
        </audio>

        <span id="playButton" onclick="playAudio()" class="fa-stack fa-lg" style="display: none;">
            <i class="fas fa-circle fa-stack-2x"></i>
            <i class="fas fa-play fa-stack-1x fa-inverse"></i>
        </span>
        <span id="pauseButton" onclick="pauseAudio()" class="fa-stack fa-lg" style="display: none;">
            <i class="fas fa-circle fa-stack-2x"></i>
            <i class="fas fa-pause fa-stack-1x fa-inverse"></i>
        </span>
        <a id="playButton" onclick="playAudio()" class="btn btn-brown" title="Play" style="display: none;"><i class="far fa-play fa-2x"></i> Play</a>
        <a id="pauseButton" onclick="pauseAudio()" class="btn btn-brown" title="Pause" style="display: none;"><i class="fas fa-pause fa-2x"></i> Pause</a>
    </main>
    <footer>
        <div class="text-center">
            <img src="img/logo.png" alt="Tower Barat Creative" style="max-width: 50%;">
        </div>
    </footer>
    <script>
        // window.addEventListener('scroll', () => {
        //     let scrolled = window.scrollY //mengetahui brp pixel yang ke scroll
        //     console.log(scrolled)
        //     var iHeight = $("#wish-room").height();
        //     console.log(iHeight)
        // })
    </script>
    <script src="./js/jquery-3.5.1.js"></script>
    <script src="./js/lightbox-plus-jquery.min.js"></script>
    <script src="https://twemoji.maxcdn.com/v/latest/twemoji.min.js" crossorigin="anonymous"></script>
    <script src="./js/countdown.js"></script>
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
        AOS.init();
    </script>
    <script>
        const wishRoom = document.querySelector('#wish-room')
        const wishFrom = document.querySelector('#wish-from')
        const wishContent = document.querySelector('#wish-content')

        $(document).ready(function() {
            const music = document.querySelector('#music');
            const playButton = document.querySelector('#playButton');
            const pauseButton = document.querySelector('#pauseButton');
            const hadir = document.querySelector('#hadir')

            playButton.style.display = "block";

            var audioplay = false;

            setInterval(function() {
                ucapan();
            }, 5000);
        });

        function playAudio() {
            const music = document.querySelector('#music');
            const playButton = document.querySelector('#playButton');
            const pauseButton = document.querySelector('#pauseButton');

            music.play();
            audioplay = true;

            playButton.style.display = "none";
            pauseButton.style.display = "block";
        }

        function pauseAudio() {
            const music = document.querySelector('#music');
            const playButton = document.querySelector('#playButton');
            const pauseButton = document.querySelector('#pauseButton');

            music.pause();

            audioplay = false;

            playButton.style.display = "block";
            pauseButton.style.display = "none";
        }

        function checkKonfirmasi() {
            if (hadir.selected == true) {
                $('#konfirmasiSesi').attr('disabled', false);
            } else {
                $('#konfirmasiSesi').attr('disabled', true);
            }
        }

        function addWishes() {


            // Get time
            var date = new Date(); // for now

            let hours = date.getHours();
            let minutes = date.getMinutes();
            let ampm = hours >= 12 ? 'PM' : 'AM';
            hours = hours % 12;
            // hours = hours ? hours : 12; // the hour '0' should be '12'
            minutes = minutes < 10 ? '0' + minutes : minutes;
            let strTime = hours + ':' + minutes + ' ' + ampm;
            wishRoom.innerHTML += `
                            <li>
                                <div class="message-data">
                                    <span class="message-data-name">
                                        <img src="./img/profile.svg" alt="Profile Foto">
                                        ${wishFrom.value}
                                    </span> <!-- end message-data-name -->
                                    <span class="message-data-time">
                                        ${strTime}
                                    </span> <!-- end message-data-time -->
                                </div> <!-- end message-data -->
                                <div class="message">
                                    ${wishContent.value}
                                </div> <!-- end message -->
                            </li>`
            // Abis pencet kirim ilangin valuenya di form
            wishFrom.value = ""
            wishContent.value = ""
        }


        $("#wishes").submit(function(ev) {
            ev.preventDefault();
            $.ajax({
                type: "POST",
                url: "https://www.towerinvitee.com/server/rsvp/store/3",
                data: new FormData(this),
                dataType: "JSON",
                processData: false,
                contentType: false,
                async: false,
                cache: false,
                success: function() {
                    $("#wishes")[0].reset();
                },
            });
        });


        // Ngehapus icon new message pada wish jika berada di bawah
        // document.querySelector('.chatbox').addEventListener("scroll", evt => {
        //     console.log(evt.target.scrollTop)
        //     console.log( document.querySelector('.chatbox').scrollHeight)
        //     if(evt.target.scrollTop == wishRoom.scrollHeight) {
        //         console.log("mentok")
        //     }
        // })
        function scrollToBottom() {
            document.querySelector('.chatbox').scrollTo(0, document.querySelector('.chatbox').scrollHeight);
        }

        function ucapan() {
            html = '';
            $.ajax({
                type: "GET",
                url: "https://www.towerinvitee.com/server/rsvp/get/3",
                dataType: "JSON",
                success: function(data) {
                    for (let i = 0; i < data.length; i++) {
                        html += display_rsvp(data[i]);
                    }
                    wishRoom.innerHTML = html;
                },
            });
        }

        function display_rsvp(data) {
            var kehadiran = data.kehadiran == 1 ? 'Hadir' : 'Maaf, Berhalangan hadir';
            html = `<li>
                        <div class="message-data">
                            <span class="message-data-name">
                                <img src="./img/profile.svg" alt="Profile Foto">
                                        ${data.nama}
                                    </span> <!-- end message-data-name -->
                                    <span class="message-data-time">
                                        ${data.created_at}
                                    </span> <!-- end message-data-time -->

                                </div> <!-- end message-data -->
                                <div class="message">
                                ${kehadiran},
                                <br>
                                    ${data.ucapan}
                                </div> <!-- end message -->
                            </li>`
            return html;
        }
    </script>
</body>

</html>